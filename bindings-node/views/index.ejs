<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>kb linux zmq</title>
  <meta content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" name="viewport">
  <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
  <!--[if lt IE 9]>
  <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
  <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
  <![endif]-->
  <style>
  #feedback { font-size: 1.4em; }
  #selectable .ui-selecting { background: #FECA40; }
  #selectable .ui-selected { background: #F39814; color: white; }
  #selectable { list-style-type: none; margin: 0; padding: 0; width: 100%; }
  #selectable li { padding: 3px; float: left; width: 100px; height: 100px; font-size: 4em; text-align: center; }
  </style>
</head>
<body>
<p>epoch: <strong id="epochId">NA</strong></p>
<img id="im-0" width="28px" height="28px" alt="im" src="data:image/png;base64,asd" />
<img id="im-1" width="28px" height="28px" alt="im" src="data:image/png;base64,asd" />
<img id="im-2" width="28px" height="28px" alt="im" src="data:image/png;base64,asd" />
<img id="im-3" width="28px" height="28px" alt="im" src="data:image/png;base64,asd" />
<img id="im-4" width="28px" height="28px" alt="im" src="data:image/png;base64,asd" />
<img id="im-5" width="28px" height="28px" alt="im" src="data:image/png;base64,asd" />
<img id="im-6" width="28px" height="28px" alt="im" src="data:image/png;base64,asd" />
<img id="im-7" width="28px" height="28px" alt="im" src="data:image/png;base64,asd" />
<img id="im-8" width="28px" height="28px" alt="im" src="data:image/png;base64,asd" />
<img id="im-9" width="28px" height="28px" alt="im" src="data:image/png;base64,asd" />
<script src="/jquery.min.js"></script>
<script src="/socket.io.js"></script>
<script>

  $(function() {
    var socket = io('http://localhost:8844');

    socket.on('connect', function(){
      console.log('CONNECTED');
    });

    socket.on('epochdone', function(msg){
      var imid = '#im-' + msg.wIdx;
      var imdata = 'data:image/png;base64,' + msg.data;
      $(imid).attr('src', imdata);
    });

    socket.on('disconnect', function(){});
  });
</script>
</body>
</html>
